(()=>{var e={};e.id=21,e.ids=[21],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26452:(e,r,s)=>{"use strict";s.d(r,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/asoribabackend/PycharmProjects/nerdbank/nerdbank/src/app/admin/admin-guards/protectedRoutes.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/asoribabackend/PycharmProjects/nerdbank/nerdbank/src/app/admin/admin-guards/protectedRoutes.tsx","default")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},37657:(e,r,s)=>{"use strict";s.d(r,{Q5:()=>n,nc:()=>o,oz:()=>l});var a=s(26787),t=s(59350);let n=(0,a.v)()((0,t.Zr)(e=>({transfers:[],setTransfers:r=>e({transfers:r})}),{name:"transfer-storage",storage:{getItem:e=>{let r=sessionStorage.getItem(e);return r?JSON.parse(r):null},setItem:(e,r)=>{sessionStorage.setItem(e,JSON.stringify(r))},removeItem:e=>sessionStorage.removeItem(e)}})),o=(0,a.v)()((0,t.Zr)(e=>({auth:null,setAuth:r=>e({auth:r})}),{name:"auth-storage",storage:{getItem:e=>{let r=sessionStorage.getItem(e);return r?JSON.parse(r):null},setItem:(e,r)=>{sessionStorage.setItem(e,JSON.stringify(r))},removeItem:e=>sessionStorage.removeItem(e)}})),l=(0,a.v)()((0,t.Zr)(e=>({message:"",setMessage:r=>e({message:r})}),{name:"auth-message",storage:{getItem:e=>{let r=sessionStorage.getItem(e);return r?JSON.parse(r):null},setItem:(e,r)=>{sessionStorage.setItem(e,JSON.stringify(r))},removeItem:e=>sessionStorage.removeItem(e)}}))},43431:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var a=s(65239),t=s(48088),n=s(88170),o=s.n(n),l=s(30893),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(r,i);let c={children:["",{children:["admin",{children:["transfer-money",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,93809)),"/Users/asoribabackend/PycharmProjects/nerdbank/nerdbank/src/app/admin/transfer-money/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Users/asoribabackend/PycharmProjects/nerdbank/nerdbank/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/asoribabackend/PycharmProjects/nerdbank/nerdbank/src/app/admin/transfer-money/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/admin/transfer-money/page",pathname:"/admin/transfer-money",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},55939:(e,r,s)=>{"use strict";s.d(r,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/asoribabackend/PycharmProjects/nerdbank/nerdbank/src/app/admin/transfer-money/defaultLayout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/asoribabackend/PycharmProjects/nerdbank/nerdbank/src/app/admin/transfer-money/defaultLayout.tsx","default")},58458:(e,r,s)=>{Promise.resolve().then(s.bind(s,91578)),Promise.resolve().then(s.bind(s,93817))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79537:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});var a=s(60687);function t(){return(0,a.jsx)("footer",{id:"footer",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"row"}),(0,a.jsx)("div",{className:"footer-copyright pt-3 pt-lg-2 mt-2",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-lg",children:(0,a.jsxs)("p",{className:"text-center text-lg-start mb-2 mb-lg-0",children:["Copyright \xa9 2025 ",(0,a.jsx)("a",{href:"/dashboard",children:" NerdBank "}),". All Rights Reserved."]})})})})]})})}},79551:e=>{"use strict";e.exports=require("url")},91578:(e,r,s)=>{"use strict";s.d(r,{default:()=>d});var a=s(60687),t=s(16189),n=s(45634),o=s(29494);let l=()=>{let{userAccount:e,userInfo:r}=(0,n.Ay)();return console.log("userAccount info hooks",r),(0,o.I)({queryKey:["authStatus"],queryFn:async()=>{if(!e)throw Error("Not authenticated");return{userInfo:r}},staleTime:0,refetchOnWindowFocus:!1})};var i=s(43210),c=s(37657);let d=({children:e})=>{let r=(0,t.useRouter)(),s=(0,t.usePathname)();console.log(s);let{data:n,isLoading:o,isError:d}=l(),{message:m}=(0,c.oz)();return((0,i.useEffect)(()=>{if(console.log("Auth Status:",n,d,o),!o&&n?.userInfo?.message){let{isAdmin:e}=n?.userInfo?.message;console.log("isAdmin:",e,m),e?s.split("/").includes("confirm-transfer")&&"confirmed"!==m&&r.push("/unauthorised"):r.push("/unauthorised")}},[n,o,r]),o)?(0,a.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,a.jsx)("div",{id:"preloader",children:(0,a.jsx)("div",{"data-loader":"dual-ring"})})}):n?.userInfo?.message?.isAdmin?s.split("/").includes("confirm-transfer")&&"confirmed"!==m?null:e:null}},93809:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o});var a=s(37413),t=s(26452),n=s(55939);let o=()=>(0,a.jsx)(t.default,{children:(0,a.jsx)(n.default,{})})},93817:(e,r,s)=>{"use strict";s.d(r,{default:()=>m});var a=s(60687),t=s(79537),n=s(97817),o=s(27605),l=s(37657),i=s(16189),c=s(45634),d=s(43210);function m(){let[e,r]=(0,d.useState)(""),{userAccount:s,userInfo:m}=(0,c.Ay)();console.log("useeeee",s?.data?.accountNumber),console.log("user Info",m?.message?.firstname+" "+m?.message?.lastname),console.log("fgjfgfgf",e);let{transfers:u,setTransfers:p}=(0,l.Q5)(),{auth:f}=(0,l.nc)(),h=(0,i.useRouter)();console.log("my transfers",u,p);let{register:x,watch:N,formState:{errors:b},handleSubmit:g}=(0,o.mN)({defaultValues:{senderAccountInfo:"",transferType:"",accountName:"",amount:"",accountNumber:"",accountBankName:"",accountType:"",accountBankRoutingTransitNumber:"",accountBankSwiftCode:"",descriptionOfTransfer:""}}),v=N("transferType");return console.log("the watchTrans",N("senderAccountInfo")),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{id:"main-wrapper",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("div",{id:"content",className:"py-4",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"row mt-4 mb-5",children:(0,a.jsx)("div",{className:"col-lg-11 mx-auto",children:(0,a.jsxs)("div",{className:"row widget-steps",children:[(0,a.jsxs)("div",{className:"col-4 step active",children:[(0,a.jsx)("div",{className:"step-name",children:"Details"}),(0,a.jsx)("div",{className:"progress",children:(0,a.jsx)("div",{className:"progress-bar"})}),(0,a.jsx)("a",{href:"#",className:"step-dot"})," "]}),(0,a.jsxs)("div",{className:"col-4 step disabled",children:[(0,a.jsx)("div",{className:"step-name",children:"Confirm"}),(0,a.jsx)("div",{className:"progress",children:(0,a.jsx)("div",{className:"progress-bar"})}),(0,a.jsx)("a",{href:"#",className:"step-dot"})," "]}),(0,a.jsxs)("div",{className:"col-4 step disabled",children:[(0,a.jsx)("div",{className:"step-name",children:"Success"}),(0,a.jsx)("div",{className:"progress",children:(0,a.jsx)("div",{className:"progress-bar"})}),(0,a.jsx)("a",{href:"#",className:"step-dot"})," "]})]})})}),(0,a.jsx)("h4",{className:"fw-400 text-center mt-3",children:"Transfer Money"}),(0,a.jsx)("p",{className:"lead text-center mb-4",children:"Transfer Money at anytime, anywhere in the world."}),(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-md-9 col-lg-7 col-xl-6 mx-auto",children:(0,a.jsxs)("div",{className:"bg-white shadow-sm rounded p-3 pt-sm-4 pb-sm-5 px-sm-5 mb-4",children:[(0,a.jsx)("h3",{className:"text-5 fw-400 mb-3 mb-sm-4",children:"Receipient Details"}),(0,a.jsx)("hr",{className:"mx-n3 mx-sm-n5 mb-4"}),(0,a.jsxs)("form",{id:"form-send-money",onSubmit:g(e=>{let r=[{body:{receiverAccount:[{accountName:e.accountName,accountNumber:e.accountNumber,accountBankName:e.accountBankName,accountType:e.accountType,accountBankRoutingTransitNumber:e.accountBankRoutingTransitNumber,accountBankSwiftCode:e.accountBankSwiftCode}],senderAccount:f,amount:e.amount,descriptionOfTransfer:e.descriptionOfTransfer}}];console.log("my ttt",e),p(r),"self"===v&&(r=r.map(r=>(console.log("my val",r),{body:{receiverAccount:e.accountNumber,senderAccount:f,amount:r.body.amount,descriptionOfTransfer:r.body.descriptionOfTransfer,transferType:e.transferType}}))),console.log("my Extra data",r),p(r),console.log("my new transfers",u),console.log(e),h.push("/admin/verify-pin")}),children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"payerName",className:"form-label",children:"Transfer From Account"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Account Information",value:s&&m?e:"loading...",...x("senderAccountInfo",{required:!0,disabled:!0}),"aria-invalid":b.senderAccountInfo?"true":"false"}),b.senderAccountInfo?.type==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Account Name is required"})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"transferType",className:"form-label",children:"Type Of Transfer"}),(0,a.jsxs)("select",{className:"form-control",...x("transferType",{required:!0}),"aria-invalid":b.transferType?"true":"false",children:[(0,a.jsx)("option",{value:"",children:"Select Transfer Type"}),(0,a.jsx)("option",{value:"self",children:"Self Transfers"}),(0,a.jsx)("option",{value:"external",children:"External Transfers"})]}),b.transferType?.type==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Transfer Type is required"})]}),"external"===v&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"payerName",className:"form-label",children:"Account Name"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Account Name",...x("accountName",{required:!0}),"aria-invalid":b.accountName?"true":"false"}),b.accountName?.type==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Account Name is required"})]}),["self","external"].includes(v)&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"payerName",className:"form-label",children:"Amount"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Amount",...x("amount",{required:!0}),"aria-invalid":b.amount?"true":"false"}),b.amount?.type==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Amount is required"})]}),["self","external"].includes(v)&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"payerName",className:"form-label",children:"Account Number"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Account Number",...x("accountNumber",{required:!0}),"aria-invalid":b.accountNumber?"true":"false"}),b.accountNumber?.type==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Account Number is required"})]}),"external"===v&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"payerName",className:"form-label",children:"Account Bank Name"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Account Bank Name",...x("accountBankName",{required:!0}),"aria-invalid":b.accountBankName?"true":"false"}),b.accountBankName?.type==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Account Bank Name is required"})]}),["self","external"].includes(v)&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"accountType",className:"form-label",children:"Account Type"}),(0,a.jsxs)("select",{className:"form-control",...x("accountType",{required:!0}),"aria-invalid":b.accountType?"true":"false",children:[(0,a.jsx)("option",{value:"",children:"Select Account Type"}),(0,a.jsx)("option",{value:"Savings",children:"Savings"}),(0,a.jsx)("option",{value:"Current",children:"Current"}),(0,a.jsx)("option",{value:"Checking",children:"Checking"})]}),b.accountType?.type==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Account Type is required"})]}),"external"===v&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("label",{htmlFor:"payerName",className:"form-label",children:[" ","Routing Transit Number"]}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Routing Transit Number",...x("accountBankRoutingTransitNumber",{required:!0}),"aria-invalid":b.accountBankRoutingTransitNumber?"true":"false"}),b.accountBankRoutingTransitNumber?.type==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Routing Transit Number is required"})]}),"external"===v&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"payerName",className:"form-label",children:"Bank Swift Code"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Bank Swift Code",...x("accountBankSwiftCode",{required:!0}),"aria-invalid":b.accountBankSwiftCode?"true":"false"}),b.accountBankSwiftCode?.type==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Bank Swift Code is required"})]}),["self","external"].includes(v)&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"description",className:"form-label",children:"Enter Description of Transfer"}),(0,a.jsx)("textarea",{className:"form-control",...x("descriptionOfTransfer",{required:!0}),"aria-invalid":b.descriptionOfTransfer?"true":"false",rows:4,id:"description",placeholder:"Description of Transfer"}),b.descriptionOfTransfer?.type==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Description Of Transfer is required"})]}),["self","external"].includes(v)&&(0,a.jsx)("div",{className:"d-grid mt-4",children:(0,a.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Continue"})})]})]})})})]})}),(0,a.jsx)(t.A,{})]})})}},95250:(e,r,s)=>{Promise.resolve().then(s.bind(s,26452)),Promise.resolve().then(s.bind(s,55939))}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[447,446,557,494,474,956,130,817],()=>s(43431));module.exports=a})();