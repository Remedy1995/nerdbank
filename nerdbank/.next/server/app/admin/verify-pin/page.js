(()=>{var e={};e.id=796,e.ids=[796],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12286:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(60687),n=r(43210),a=r(30474),i=r(45634),o=r(16189),l=r(37657);let c=()=>{let{setMessage:e}=(0,l.oz)(),t=(0,n.useRef)([]),[r,c]=(0,n.useState)(Array(6).fill("")),d=(0,o.useRouter)(),u={userPin:r.join("")},{Verify:m,message:p,visible:f,setVisible:h,setMessage:g}=(0,i.ji)(u);console.log("mes",typeof p),(0,n.useEffect)(()=>{200===p&&(d.push("/admin/confirm-transfer"),e("confirmed"))},[p,d]);let v=(e,s)=>{if(!/^[0-9]?$/.test(e))return;let n=[...r];n[s]=e,c(n),e&&s<5&&t.current[s+1]?.focus()},x=(e,s)=>{if("Backspace"===e.key&&!r[s]&&s>0){let e=[...r];e[s-1]="",c(e),t.current[s-1]?.focus()}};return(0,s.jsxs)(s.Fragment,{children:[""===p&&(0,s.jsx)("div",{id:"preloader",children:(0,s.jsx)("div",{"data-loader":"dual-ring"})}),(0,s.jsx)("div",{className:"container-fluid m-0 p-0",children:(0,s.jsxs)("div",{className:"row g-0 vh-100",children:[(0,s.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:(0,s.jsx)("div",{className:"d-flex justify-content-center h-100 align-items-center bg-white",children:(0,s.jsxs)("div",{className:"d-flex flex-column w-50 p-1 rounded bg-white",children:[(0,s.jsx)("div",{className:"d-flex justify-content-center",children:(0,s.jsx)(a.default,{className:"rounded",src:"/images/hand.tiff",alt:"",width:200,height:200})}),(0,s.jsx)("div",{className:"d-flex justify-content-center",children:(0,s.jsx)("p",{className:"text-primary fs-5 text-nowrap fw-medium text-center text-uppercase",children:"Pin Verification"})}),(0,s.jsx)("div",{className:"container-fluid d-flex justify-content-center align-items-center px-2",children:(0,s.jsx)("div",{className:"col-12 px-3 fs-6 fw-normal w-100 mb-4 text-center",children:"Please provide your bank pin to complete the process."})})]})})}),(0,s.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6 bg-primary",children:(0,s.jsx)("div",{className:"d-flex justify-content-center h-100 align-items-center",children:(0,s.jsxs)("div",{className:"d-flex flex-column w-50 p-1 rounded",children:[![200].includes(p)&&f&&(0,s.jsxs)("div",{className:"alert alert-secondary d-flex align-items-center justify-content-between p-2",children:[(0,s.jsxs)("div",{className:"d-flex align-items-center w-100",children:[(0,s.jsx)("div",{className:"featured-box-icon bg-light-3 text-brown rounded-circle me-2 d-flex align-items-center justify-content-center",style:{width:"30px",height:"30px"},children:(0,s.jsx)("i",{className:"fas fa-bullhorn text-danger"})}),(0,s.jsx)("p",{className:"text-2 mb-0 text-center text-dark fw-normal",children:p})]}),(0,s.jsx)("button",{type:"button",className:"btn-close",onClick:function(){h(!1),g("dummy message")}})]}),(0,s.jsx)("p",{className:"text-white fs-5 text-nowrap text-center",children:"Verify Your Bank Pin"}),(0,s.jsx)("div",{className:"col-12 px-3 fs-6 fw-light w-100 mb-4 text-white",children:"Enter the 6-digit code associated with your account to complete the process."}),(0,s.jsx)("div",{className:"d-flex justify-content-between gap-1 mb-3",children:r.map((e,r)=>(0,s.jsx)("input",{type:"text",inputMode:"numeric",maxLength:1,className:"w-100 p-1 text-center fw-medium",value:e,onChange:e=>v(e.target.value,r),onKeyDown:e=>x(e,r),ref:e=>{t.current[r]=e}},r))}),(0,s.jsx)("button",{className:"btn text",style:{background:"white"},onClick:m,children:"Verify Pin"})]})})})]})})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26787:(e,t,r)=>{"use strict";r.d(t,{v:()=>l});var s=r(43210);let n=e=>{let t,r=new Set,s=(e,s)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=s?s:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,a={setState:s,getState:n,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(s,n,a);return a},a=e=>e?n(e):n,i=e=>e,o=e=>{let t=a(e),r=e=>(function(e,t=i){let r=s.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return s.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},l=e=>e?o(e):o},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},37657:(e,t,r)=>{"use strict";r.d(t,{Q5:()=>a,nc:()=>i,oz:()=>o});var s=r(26787),n=r(59350);let a=(0,s.v)()((0,n.Zr)(e=>({transfers:[],setTransfers:t=>e({transfers:t})}),{name:"transfer-storage",storage:{getItem:e=>{let t=sessionStorage.getItem(e);return t?JSON.parse(t):null},setItem:(e,t)=>{sessionStorage.setItem(e,JSON.stringify(t))},removeItem:e=>sessionStorage.removeItem(e)}})),i=(0,s.v)()((0,n.Zr)(e=>({auth:null,setAuth:t=>e({auth:t})}),{name:"auth-storage",storage:{getItem:e=>{let t=sessionStorage.getItem(e);return t?JSON.parse(t):null},setItem:(e,t)=>{sessionStorage.setItem(e,JSON.stringify(t))},removeItem:e=>sessionStorage.removeItem(e)}})),o=(0,s.v)()((0,n.Zr)(e=>({message:"",setMessage:t=>e({message:t})}),{name:"auth-message",storage:{getItem:e=>{let t=sessionStorage.getItem(e);return t?JSON.parse(t):null},setItem:(e,t)=>{sessionStorage.setItem(e,JSON.stringify(t))},removeItem:e=>sessionStorage.removeItem(e)}}))},44907:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(65239),n=r(48088),a=r(88170),i=r.n(a),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["admin",{children:["verify-pin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,98548)),"/Users/asoribabackend/PycharmProjects/nerdbank/nerdbank/src/app/admin/verify-pin/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/asoribabackend/PycharmProjects/nerdbank/nerdbank/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/asoribabackend/PycharmProjects/nerdbank/nerdbank/src/app/admin/verify-pin/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/admin/verify-pin/page",pathname:"/admin/verify-pin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},45634:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>o,PP:()=>l,ji:()=>c});var s=r(2877),n=r(43210),a=r(29494),i=r(16189);function o(){let{data:e}=(0,a.I)({queryKey:["userinfo"],queryFn:async()=>{let e=await (0,s.gL)({});return e?(console.log("mine result",e),e):{message:{firstname:"",lastname:"",phone:"",email:""}}}}),{data:t}=(0,a.I)({queryKey:["accountInfo"],queryFn:async()=>{let e=await (0,s.im)({});return(console.log("mine result",e),e)?e:{account:{accountBalance:0}}}});return console.log("userAccount data is",e),{userAccount:t,userInfo:e}}let l=()=>{let[e,t]=(0,n.useState)(0),r=(0,i.useRouter)(),s=(0,n.useCallback)(async()=>{try{let e=await fetch("http://localhost:60000/api/user/logout",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Sorry, an error occurred");let r=await e.json();console.log("This is the response",r),r?.statusCode&&t(r.statusCode)}catch(e){console.error("This is the error",e)}},[]);return(0,n.useEffect)(()=>{e&&r.push("/")},[e,r]),{Logout:s}},c=e=>{let t=(0,i.useRouter)(),[r,s]=(0,n.useState)("dummy message"),[a,o]=(0,n.useState)(!1);return{Verify:async()=>{if(console.log(Object.values(e)),""===Object.values(e)[0]){s("Bank Pin fields cannot be empty or invalid"),o(!0);return}try{s("");let r=await fetch("http://localhost:60000/api/pin/verify-bank-pin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await r.json();if(!r.ok){if(console.log(n),401===n.status)return void t.push("/");o(!0),s(n.message);return}if(console.log("This is the response",n),n){s(n.status),o(!0);return}}catch(e){console.error("This is the error",e),s(e.message),o(!0)}},message:r,setMessage:s,visible:a,setVisible:o}}},59350:(e,t,r)=>{"use strict";r.d(t,{Zr:()=>n});let s=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>s(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>s(t)(e)}}},n=(e,t)=>(r,n,a)=>{let i,o={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let s=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=r.getItem(e))?t:null;return n instanceof Promise?n.then(s):s(n)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1,c=new Set,d=new Set,u=o.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)},n,a);let m=()=>{let e=o.partialize({...n()});return u.setItem(o.name,{state:e,version:o.version})},p=a.setState;a.setState=(e,t)=>{p(e,t),m()};let f=e((...e)=>{r(...e),m()},n,a);a.getInitialState=()=>f;let h=()=>{var e,t;if(!u)return;l=!1,c.forEach(e=>{var t;return e(null!=(t=n())?t:f)});let a=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=n())?e:f))||void 0;return s(u.getItem.bind(u))(o.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];else{if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[s,a]=e;if(r(i=o.merge(a,null!=(t=n())?t:f),!0),s)return m()}).then(()=>{null==a||a(i,void 0),i=n(),l=!0,d.forEach(e=>e(i))}).catch(e=>{null==a||a(void 0,e)})};return a.persist={setOptions:e=>{o={...o,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>h(),hasHydrated:()=>l,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},o.skipHydration||h(),i||f}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")},80916:(e,t,r)=>{Promise.resolve().then(r.bind(r,98548))},98548:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/asoribabackend/PycharmProjects/nerdbank/nerdbank/src/app/admin/verify-pin/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/asoribabackend/PycharmProjects/nerdbank/nerdbank/src/app/admin/verify-pin/page.tsx","default")},99476:(e,t,r)=>{Promise.resolve().then(r.bind(r,12286))}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,446,557,494,474,130],()=>r(44907));module.exports=s})();