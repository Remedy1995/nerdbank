"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8347],{8347:(e,s,r)=>{r.r(s),r.d(s,{default:()=>A});var t=r(5155),a=r(2115),o=r(2596),n=r(9688);function l(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,n.QP)((0,o.$)(s))}let i=a.forwardRef((e,s)=>{let{className:r,type:a,...o}=e;return(0,t.jsx)("input",{type:a,className:l("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...o})});i.displayName="Input";var d=r(4624),m=r(2177),c=r(7073),u=r(2085);let x=(0,u.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),f=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(c.b,{ref:s,className:l(x(),r),...a})});f.displayName=c.b.displayName;let g=m.Op,p=a.createContext({}),h=e=>{let{...s}=e;return(0,t.jsx)(p.Provider,{value:{name:s.name},children:(0,t.jsx)(m.xI,{...s})})},v=()=>{let e=a.useContext(p),s=a.useContext(b),{getFieldState:r,formState:t}=(0,m.xW)(),o=r(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=s;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...o}},b=a.createContext({}),j=a.forwardRef((e,s)=>{let{className:r,...o}=e,n=a.useId();return(0,t.jsx)(b.Provider,{value:{id:n},children:(0,t.jsx)("div",{ref:s,className:l("space-y-2",r),...o})})});j.displayName="FormItem";let N=a.forwardRef((e,s)=>{let{className:r,...a}=e,{error:o,formItemId:n}=v();return(0,t.jsx)(f,{ref:s,className:l(o&&"text-destructive",r),htmlFor:n,...a})});N.displayName="FormLabel";let y=a.forwardRef((e,s)=>{let{...r}=e,{error:a,formItemId:o,formDescriptionId:n,formMessageId:l}=v();return(0,t.jsx)(d.DX,{ref:s,id:o,"aria-describedby":a?"".concat(n," ").concat(l):"".concat(n),"aria-invalid":!!a,...r})});y.displayName="FormControl",a.forwardRef((e,s)=>{let{className:r,...a}=e,{formDescriptionId:o}=v();return(0,t.jsx)("p",{ref:s,id:o,className:l("text-[0.8rem] text-muted-foreground",r),...a})}).displayName="FormDescription";let w=a.forwardRef((e,s)=>{let{className:r,children:a,...o}=e,{error:n,formMessageId:i}=v(),d=n?String(null==n?void 0:n.message):a;return d?(0,t.jsx)("p",{ref:s,id:i,className:l("text-[0.8rem] font-medium text-destructive",r),...o,children:d}):null});w.displayName="FormMessage";var I=r(221);let S=(0,u.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),F=a.forwardRef((e,s)=>{let{className:r,variant:a,size:o,asChild:n=!1,...i}=e,m=n?d.DX:"button";return(0,t.jsx)(m,{className:l(S({variant:a,size:o,className:r})),ref:s,...i})});F.displayName="Button";var R=r(5594),O=r(7780),k=r(5695),P=r(9059),z=r(1612);function A(){let e=(0,k.useRouter)(),{setAuth:s,auth:r}=(0,P.nc)(),[o,n]=(0,a.useState)([]),[l,d]=(0,a.useState)(""),c=R.z.object({email:R.z.string().email({message:"Please enter a valid email address."}),password:R.z.string().min(2,{message:"password must be at least 2 characters."})}),u=(0,m.mN)({resolver:(0,I.u)(c),defaultValues:{email:"",password:""}}),{mutate:x,status:f,isError:p,isSuccess:v}=(0,O.yh)({onSuccess:t=>{var a,o;let n=Object.values(t).filter(e=>"object"==typeof e&&null!==e).flatMap(e=>(null==e?void 0:e.userData)||[]);console.log("userAccount",n),n.length>0&&s(null==(o=n[0])?void 0:o.user),console.log("pushed to store",r),(null==(a=n[0])?void 0:a.isAdmin)?e.push("/admin/dashboard"):e.push("/client/dashboard")},onError:e=>{console.log("The data",f,p,v),console.log(Object.values(e).slice(1,2).toString()),d(Object.values(e)[2].message)}});async function b(e){d(""),console.log(e),x({body:e})}return(0,t.jsx)("div",{id:"main-wrapper overflow-none",children:(0,t.jsx)("div",{id:"content",children:(0,t.jsx)("div",{className:"container py-5",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-md-9 col-lg-7 col-xl-5 mx-auto",children:(0,t.jsxs)("div",{className:"bg-white shadow-md rounded p-3 pt-sm-4 pb-sm-5 px-sm-5",children:[(0,t.jsx)("h3",{className:"fw-500 text-center text-primary",children:"Nerd Bank"}),(0,t.jsx)("hr",{className:"mx-n3 mx-sm-n5"}),l?(0,t.jsx)("p",{className:"text-3 text-danger font-bold text-center mb-0",children:l}):"idle"===f&&(0,t.jsx)("p",{className:"lead text-center",children:"We are glad to see you again!"}),(0,t.jsx)("p",{className:"text-4 font-bold text-start text-primary mb-1",children:"Please Sign in to continue"}),(0,t.jsx)(g,{...u,children:(0,t.jsxs)("form",{onSubmit:u.handleSubmit(b),className:"space-y-8",children:[(0,t.jsx)(h,{control:u.control,name:"email",render:e=>{let{field:s}=e;return(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsxs)(j,{children:[(0,t.jsx)(N,{className:"form-label",children:"Email"}),(0,t.jsx)(y,{children:(0,t.jsx)(i,{placeholder:"Please provide your email",...s,id:"emailAddress",className:"form-control py-2"})}),(0,t.jsx)(w,{className:"text-danger p-1"})]})})}}),(0,t.jsx)(h,{control:u.control,name:"password",render:e=>{let{field:s}=e;return(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsxs)(j,{children:[(0,t.jsx)(N,{className:"form-label",children:"Password"}),(0,t.jsx)(y,{children:(0,t.jsx)(i,{type:"password",placeholder:"Please provide your password",...s,id:"loginPassword",className:"form-control py-2"})}),(0,t.jsx)(w,{className:"text-danger p-1"})]})})}}),(0,t.jsx)("div",{className:"d-grid mb-3",children:(0,t.jsx)(F,{className:"btn btn-primary",type:"submit",disabled:"pending"===f,children:"pending"===f?(0,t.jsx)(z.A,{color:"#FFFFFF",size:10}):"Submit"})})]})}),(0,t.jsx)("p",{className:"text-3 text-muted text-center mb-0",children:"2025 NerdBank. All Rights Reserved."})]})})})})})})}},9059:(e,s,r)=>{r.d(s,{Q5:()=>o,nc:()=>n,oz:()=>l});var t=r(5453),a=r(6786);let o=(0,t.v)()((0,a.Zr)(e=>({transfers:[],setTransfers:s=>e({transfers:s})}),{name:"transfer-storage",storage:{getItem:e=>{let s=sessionStorage.getItem(e);return s?JSON.parse(s):null},setItem:(e,s)=>{sessionStorage.setItem(e,JSON.stringify(s))},removeItem:e=>sessionStorage.removeItem(e)}})),n=(0,t.v)()((0,a.Zr)(e=>({auth:null,setAuth:s=>e({auth:s})}),{name:"auth-storage",storage:{getItem:e=>{let s=sessionStorage.getItem(e);return s?JSON.parse(s):null},setItem:(e,s)=>{sessionStorage.setItem(e,JSON.stringify(s))},removeItem:e=>sessionStorage.removeItem(e)}})),l=(0,t.v)()((0,a.Zr)(e=>({message:"",setMessage:s=>e({message:s})}),{name:"auth-message",storage:{getItem:e=>{let s=sessionStorage.getItem(e);return s?JSON.parse(s):null},setItem:(e,s)=>{sessionStorage.setItem(e,JSON.stringify(s))},removeItem:e=>sessionStorage.removeItem(e)}}))}}]);