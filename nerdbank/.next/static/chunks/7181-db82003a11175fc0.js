"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7181],{3598:(e,a,s)=>{s.d(a,{Ay:()=>i,PP:()=>o,ji:()=>d});var r=s(7780),l=s(2115),n=s(9373),t=s(5695);function i(){let{data:e}=(0,n.I)({queryKey:["userinfo"],queryFn:async()=>{let e=await (0,r.gL)({});return e?(console.log("mine result",e),e):{message:{firstname:"",lastname:"",phone:"",email:""}}}}),{data:a}=(0,n.I)({queryKey:["accountInfo"],queryFn:async()=>{let e=await (0,r.im)({});return(console.log("mine result",e),e)?e:{account:{accountBalance:0}}}});return console.log("userAccount data is",e),{userAccount:a,userInfo:e}}let o=()=>{let[e,a]=(0,l.useState)(0),s=(0,t.useRouter)(),r=(0,l.useCallback)(async()=>{try{let e=await fetch("".concat("http://localhost:60000","/api/user/logout"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Sorry, an error occurred");let s=await e.json();console.log("This is the response",s),(null==s?void 0:s.statusCode)&&a(s.statusCode)}catch(e){console.error("This is the error",e)}},[]);return(0,l.useEffect)(()=>{e&&s.push("/")},[e,s]),{Logout:r}},d=e=>{let a=(0,t.useRouter)(),[s,r]=(0,l.useState)("dummy message"),[n,i]=(0,l.useState)(!1);return{Verify:async()=>{if(console.log(Object.values(e)),""===Object.values(e)[0]){r("Bank Pin fields cannot be empty or invalid"),i(!0);return}try{r("");let s=await fetch("".concat("http://localhost:60000","/api/pin/verify-bank-pin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),l=await s.json();if(!s.ok){if(console.log(l),401===l.status)return void a.push("/");i(!0),r(l.message);return}if(console.log("This is the response",l),l){r(l.status),i(!0);return}}catch(e){console.error("This is the error",e),r(e.message),i(!0)}},message:s,setMessage:r,visible:n,setVisible:i}}},7181:(e,a,s)=>{s.d(a,{A:()=>o});var r=s(5155),l=s(6766),n=s(9373),t=s(7780),i=s(3598);function o(){let{Logout:e}=(0,i.PP)(),{data:a}=(0,n.I)({queryKey:["userinfo"],queryFn:async()=>{let e=await (0,t.gL)({});return e||{message:{firstname:"",lastname:"",phone:"",email:""}}}}),{message:s}=a||{};return(0,r.jsx)("header",{id:"header",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"header-row",children:[(0,r.jsxs)("div",{className:"header-column justify-content-start",children:[(0,r.jsxs)("div",{className:"logo me-3",children:[(0,r.jsx)("a",{className:"d-flex",href:"/admin/dashboard",title:"NerdBank - HTML Template",children:(0,r.jsx)("h3",{className:"text-primary",children:"Nerd Bank"})})," "]}),(0,r.jsxs)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#header-nav",children:[" ",(0,r.jsx)("span",{})," ",(0,r.jsx)("span",{})," ",(0,r.jsx)("span",{})," "]}),(0,r.jsx)("nav",{className:"primary-menu navbar navbar-expand-sm",children:(0,r.jsx)("div",{id:"header-nav",className:"collapse navbar-collapse",children:(0,r.jsxs)("ul",{className:"navbar-nav me-auto",children:[(0,r.jsx)("li",{className:"active text-gray-900",children:(0,r.jsx)("a",{href:"/admin/dashboard",children:"Dashboard"})}),(0,r.jsx)("li",{className:"text-emerald-900",children:(0,r.jsx)("a",{href:"/admin/transfer-money",children:"Transfer Funds"})}),(0,r.jsx)("li",{className:"active text-gray-900",children:(0,r.jsx)("a",{href:"/admin/create-account",children:"Create Account"})}),(0,r.jsxs)("li",{className:"nav-item dropdown",children:[" ",(0,r.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"transferDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Transfer History"}),(0,r.jsxs)("ul",{className:"dropdown-menu mx-4","aria-labelled":"transferDropdown",children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{className:"dropdown-item mx-4",href:"/admin/all-self-transfers",children:"Self Transfers"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{className:"dropdown-item mx-4",href:"/admin/all-external-transfers",children:"External Transfers"})})]})]}),(0,r.jsx)("li",{className:"text-emerald-900",children:(0,r.jsx)("a",{href:"/admin/all-customers",children:"Customers"})}),(0,r.jsx)("li",{className:"text-emerald-900",children:(0,r.jsx)("a",{href:"/admin/all-accounts",children:"Accounts"})})]})})})]}),(0,r.jsx)("div",{className:"header-column justify-content-end",children:(0,r.jsx)("nav",{className:"login-signup navbar navbar-expand",children:(0,r.jsxs)("ul",{className:"navbar-nav",children:[(0,r.jsx)("li",{className:"dropdown notifications",children:(0,r.jsxs)("ul",{className:"dropdown-menu",children:[(0,r.jsx)("li",{className:"dropdown-divider mx-n3"}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,r.jsx)("i",{className:"fas fa-bell"}),"A new digital FIRC document is available for you to download",(0,r.jsx)("span",{className:"text-1 text-muted d-block",children:"22 Jul 2021"})]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,r.jsx)("i",{className:"fas fa-bell"}),"Updates to our privacy policy. Please read.",(0,r.jsx)("span",{className:"text-1 text-muted d-block",children:"04 March 2021"})]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,r.jsx)("i",{className:"fas fa-bell"}),"Update about NerdBank fees",(0,r.jsx)("span",{className:"text-1 text-muted d-block",children:"18 Feb 2021"})]})}),(0,r.jsx)("li",{className:"dropdown-divider mx-n3"}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{className:"dropdown-item text-center text-primary px-0",href:"notifications.html",children:"See all Notifications"})})]})}),(0,r.jsxs)("li",{className:"nav-item dropdown ",children:[" ",(0,r.jsx)("a",{className:"nav-link dropdown-toggle px-0",href:"#",id:"profileDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,r.jsx)(l.default,{className:"rounded-circle",src:"/images/avatar-user-icon-vector_97886-15026.avif",alt:"",width:50,height:50})}),(0,r.jsxs)("ul",{className:"dropdown-menu profile-drop","aria-labelledby":"profileDropdown",children:[(0,r.jsxs)("li",{className:"text-center text-3 py-2",children:["Hi, ",null==s?void 0:s.firstname," ",null==s?void 0:s.lastname]}),(0,r.jsx)("li",{className:"dropdown-divider mx-n3"}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{className:"dropdown-item profile-down",href:"/admin/user-profile",children:[(0,r.jsx)("i",{className:"fa fa-cog"}),"Account Settings"]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{className:"dropdown-item profile-down",href:"#",onClick:e,children:[(0,r.jsx)("i",{className:"fas fa-sign-out-alt"}),"Sign Out"]})})]})]})]})})})]})})})}}}]);