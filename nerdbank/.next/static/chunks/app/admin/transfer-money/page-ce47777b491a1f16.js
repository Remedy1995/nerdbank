(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5021],{2382:(e,s,r)=>{"use strict";r.d(s,{default:()=>d});var a=r(5155),n=r(5695),t=r(3598),l=r(9373);let c=()=>{let{userAccount:e,userInfo:s}=(0,t.Ay)();return console.log("userAccount info hooks",s),(0,l.I)({queryKey:["authStatus"],queryFn:async()=>{if(!e)throw Error("Not authenticated");return{userInfo:s}},staleTime:0,refetchOnWindowFocus:!1})};var o=r(2115),i=r(9059);let d=e=>{var s,r;let{children:t}=e,l=(0,n.useRouter)(),d=(0,n.usePathname)();console.log(d);let{data:m,isLoading:u,isError:f}=c(),{message:p}=(0,i.oz)();return((0,o.useEffect)(()=>{var e,s;if(console.log("Auth Status:",m,f,u),!u&&(null==m||null==(e=m.userInfo)?void 0:e.message)){let{isAdmin:e}=null==m||null==(s=m.userInfo)?void 0:s.message;console.log("isAdmin:",e,p),e?d.split("/").includes("confirm-transfer")&&"confirmed"!==p&&l.push("/unauthorised"):l.push("/unauthorised")}},[m,u,l]),u)?(0,a.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,a.jsx)("div",{id:"preloader",children:(0,a.jsx)("div",{"data-loader":"dual-ring"})})}):(null==m||null==(r=m.userInfo)||null==(s=r.message)?void 0:s.isAdmin)?d.split("/").includes("confirm-transfer")&&"confirmed"!==p?null:t:null}},3833:(e,s,r)=>{"use strict";r.d(s,{A:()=>n});var a=r(5155);function n(){return(0,a.jsx)("footer",{id:"footer",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"row"}),(0,a.jsx)("div",{className:"footer-copyright pt-3 pt-lg-2 mt-2",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-lg",children:(0,a.jsxs)("p",{className:"text-center text-lg-start mb-2 mb-lg-0",children:["Copyright \xa9 2025 ",(0,a.jsx)("a",{href:"/dashboard",children:" NerdBank "}),". All Rights Reserved."]})})})})]})})}},7303:(e,s,r)=>{"use strict";r.d(s,{default:()=>m});var a=r(5155),n=r(3833),t=r(7181),l=r(2177),c=r(9059),o=r(5695),i=r(3598),d=r(2115);function m(){var e,s,r,m,u,f,p,N,x,h,v,g,j;let[b,y]=(0,d.useState)(""),{userAccount:T,userInfo:A}=(0,i.Ay)();console.log("useeeee",null==T||null==(e=T.data)?void 0:e.accountNumber),console.log("user Info",(null==A||null==(s=A.message)?void 0:s.firstname)+" "+(null==A||null==(r=A.message)?void 0:r.lastname)),d.useEffect(()=>{var e,s,r;let a=(null==T||null==(e=T.data)?void 0:e.accountNumber)+"-"+(null==A||null==(s=A.message)?void 0:s.firstname)+" "+(null==A||null==(r=A.message)?void 0:r.lastname);console.log("senderAccount ",a),y(a)},[T]),console.log("fgjfgfgf",b);let{transfers:S,setTransfers:k}=(0,c.Q5)(),{auth:q}=(0,c.nc)(),w=(0,o.useRouter)();console.log("my transfers",S,k);let{register:I,watch:B,formState:{errors:O},handleSubmit:C}=(0,l.mN)({defaultValues:{senderAccountInfo:"",transferType:"",accountName:"",amount:"",accountNumber:"",accountBankName:"",accountType:"",accountBankRoutingTransitNumber:"",accountBankSwiftCode:"",descriptionOfTransfer:""}}),E=B("transferType");return console.log("the watchTrans",B("senderAccountInfo")),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{id:"main-wrapper",children:[(0,a.jsx)(t.A,{}),(0,a.jsx)("div",{id:"content",className:"py-4",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"row mt-4 mb-5",children:(0,a.jsx)("div",{className:"col-lg-11 mx-auto",children:(0,a.jsxs)("div",{className:"row widget-steps",children:[(0,a.jsxs)("div",{className:"col-4 step active",children:[(0,a.jsx)("div",{className:"step-name",children:"Details"}),(0,a.jsx)("div",{className:"progress",children:(0,a.jsx)("div",{className:"progress-bar"})}),(0,a.jsx)("a",{href:"#",className:"step-dot"})," "]}),(0,a.jsxs)("div",{className:"col-4 step disabled",children:[(0,a.jsx)("div",{className:"step-name",children:"Confirm"}),(0,a.jsx)("div",{className:"progress",children:(0,a.jsx)("div",{className:"progress-bar"})}),(0,a.jsx)("a",{href:"#",className:"step-dot"})," "]}),(0,a.jsxs)("div",{className:"col-4 step disabled",children:[(0,a.jsx)("div",{className:"step-name",children:"Success"}),(0,a.jsx)("div",{className:"progress",children:(0,a.jsx)("div",{className:"progress-bar"})}),(0,a.jsx)("a",{href:"#",className:"step-dot"})," "]})]})})}),(0,a.jsx)("h4",{className:"fw-400 text-center mt-3",children:"Transfer Money"}),(0,a.jsx)("p",{className:"lead text-center mb-4",children:"Transfer Money at anytime, anywhere in the world."}),(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-md-9 col-lg-7 col-xl-6 mx-auto",children:(0,a.jsxs)("div",{className:"bg-white shadow-sm rounded p-3 pt-sm-4 pb-sm-5 px-sm-5 mb-4",children:[(0,a.jsx)("h3",{className:"text-5 fw-400 mb-3 mb-sm-4",children:"Receipient Details"}),(0,a.jsx)("hr",{className:"mx-n3 mx-sm-n5 mb-4"}),(0,a.jsxs)("form",{id:"form-send-money",onSubmit:C(e=>{let s=[{body:{receiverAccount:[{accountName:e.accountName,accountNumber:e.accountNumber,accountBankName:e.accountBankName,accountType:e.accountType,accountBankRoutingTransitNumber:e.accountBankRoutingTransitNumber,accountBankSwiftCode:e.accountBankSwiftCode}],senderAccount:q,amount:e.amount,descriptionOfTransfer:e.descriptionOfTransfer}}];console.log("my ttt",e),k(s),"self"===E&&(s=s.map(s=>(console.log("my val",s),{body:{receiverAccount:e.accountNumber,senderAccount:q,amount:s.body.amount,descriptionOfTransfer:s.body.descriptionOfTransfer,transferType:e.transferType}}))),console.log("my Extra data",s),k(s),console.log("my new transfers",S),console.log(e),w.push("/admin/verify-pin")}),children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"payerName",className:"form-label",children:"Transfer From Account"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Account Information",value:T&&A?b:"loading...",...I("senderAccountInfo",{required:!0,disabled:!0}),"aria-invalid":O.senderAccountInfo?"true":"false"}),(null==(m=O.senderAccountInfo)?void 0:m.type)==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Account Name is required"})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"transferType",className:"form-label",children:"Type Of Transfer"}),(0,a.jsxs)("select",{className:"form-control",...I("transferType",{required:!0}),"aria-invalid":O.transferType?"true":"false",children:[(0,a.jsx)("option",{value:"",children:"Select Transfer Type"}),(0,a.jsx)("option",{value:"self",children:"Self Transfers"}),(0,a.jsx)("option",{value:"external",children:"External Transfers"})]}),(null==(u=O.transferType)?void 0:u.type)==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Transfer Type is required"})]}),"external"===E&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"payerName",className:"form-label",children:"Account Name"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Account Name",...I("accountName",{required:!0}),"aria-invalid":O.accountName?"true":"false"}),(null==(f=O.accountName)?void 0:f.type)==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Account Name is required"})]}),["self","external"].includes(E)&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"payerName",className:"form-label",children:"Amount"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Amount",...I("amount",{required:!0}),"aria-invalid":O.amount?"true":"false"}),(null==(p=O.amount)?void 0:p.type)==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Amount is required"})]}),["self","external"].includes(E)&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"payerName",className:"form-label",children:"Account Number"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Account Number",...I("accountNumber",{required:!0}),"aria-invalid":O.accountNumber?"true":"false"}),(null==(N=O.accountNumber)?void 0:N.type)==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Account Number is required"})]}),"external"===E&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"payerName",className:"form-label",children:"Account Bank Name"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Account Bank Name",...I("accountBankName",{required:!0}),"aria-invalid":O.accountBankName?"true":"false"}),(null==(x=O.accountBankName)?void 0:x.type)==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Account Bank Name is required"})]}),["self","external"].includes(E)&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"accountType",className:"form-label",children:"Account Type"}),(0,a.jsxs)("select",{className:"form-control",...I("accountType",{required:!0}),"aria-invalid":O.accountType?"true":"false",children:[(0,a.jsx)("option",{value:"",children:"Select Account Type"}),(0,a.jsx)("option",{value:"Savings",children:"Savings"}),(0,a.jsx)("option",{value:"Current",children:"Current"}),(0,a.jsx)("option",{value:"Checking",children:"Checking"})]}),(null==(h=O.accountType)?void 0:h.type)==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Account Type is required"})]}),"external"===E&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("label",{htmlFor:"payerName",className:"form-label",children:[" ","Routing Transit Number"]}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Routing Transit Number",...I("accountBankRoutingTransitNumber",{required:!0}),"aria-invalid":O.accountBankRoutingTransitNumber?"true":"false"}),(null==(v=O.accountBankRoutingTransitNumber)?void 0:v.type)==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Routing Transit Number is required"})]}),"external"===E&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"payerName",className:"form-label",children:"Bank Swift Code"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Bank Swift Code",...I("accountBankSwiftCode",{required:!0}),"aria-invalid":O.accountBankSwiftCode?"true":"false"}),(null==(g=O.accountBankSwiftCode)?void 0:g.type)==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Bank Swift Code is required"})]}),["self","external"].includes(E)&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"description",className:"form-label",children:"Enter Description of Transfer"}),(0,a.jsx)("textarea",{className:"form-control",...I("descriptionOfTransfer",{required:!0}),"aria-invalid":O.descriptionOfTransfer?"true":"false",rows:4,id:"description",placeholder:"Description of Transfer"}),(null==(j=O.descriptionOfTransfer)?void 0:j.type)==="required"&&(0,a.jsx)("p",{className:"text-danger",role:"alert",children:"Description Of Transfer is required"})]}),["self","external"].includes(E)&&(0,a.jsx)("div",{className:"d-grid mt-4",children:(0,a.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Continue"})})]})]})})})]})}),(0,a.jsx)(n.A,{})]})})}},9059:(e,s,r)=>{"use strict";r.d(s,{Q5:()=>t,nc:()=>l,oz:()=>c});var a=r(5453),n=r(6786);let t=(0,a.v)()((0,n.Zr)(e=>({transfers:[],setTransfers:s=>e({transfers:s})}),{name:"transfer-storage",storage:{getItem:e=>{let s=sessionStorage.getItem(e);return s?JSON.parse(s):null},setItem:(e,s)=>{sessionStorage.setItem(e,JSON.stringify(s))},removeItem:e=>sessionStorage.removeItem(e)}})),l=(0,a.v)()((0,n.Zr)(e=>({auth:null,setAuth:s=>e({auth:s})}),{name:"auth-storage",storage:{getItem:e=>{let s=sessionStorage.getItem(e);return s?JSON.parse(s):null},setItem:(e,s)=>{sessionStorage.setItem(e,JSON.stringify(s))},removeItem:e=>sessionStorage.removeItem(e)}})),c=(0,a.v)()((0,n.Zr)(e=>({message:"",setMessage:s=>e({message:s})}),{name:"auth-message",storage:{getItem:e=>{let s=sessionStorage.getItem(e);return s?JSON.parse(s):null},setItem:(e,s)=>{sessionStorage.setItem(e,JSON.stringify(s))},removeItem:e=>sessionStorage.removeItem(e)}}))},9110:(e,s,r)=>{Promise.resolve().then(r.bind(r,2382)),Promise.resolve().then(r.bind(r,7303))}},e=>{var s=s=>e(e.s=s);e.O(0,[4766,8333,6766,7354,7780,7181,8441,1684,7358],()=>s(9110)),_N_E=e.O()}]);